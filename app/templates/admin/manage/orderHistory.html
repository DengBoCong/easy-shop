{% extends "basic.html" %}
{% block title %}[[lang.company_name]]{% endblock %}
{% block css %}
    <link rel="stylesheet" href="[[url_for('static', filename='style/login.css')]]" type="text/css" media="all">
{% endblock %}
{% block content %}
    <main class="container" style="max-width: 1920px;margin-top: 60px;">
        <div class="row">
            <div class="col-xl-2 col-lg-3 d-none d-lg-block self-a-link">
                <ul style="margin-top: 20px;font-family: 'NotoSansCJK-Medium';">
                    <li style="font-size: 15px;font-family: 'NotoSansCJK-Bold';" class="text-uppercase">
                        [[lang.common_all_categories]]
                    </li>
                    <li style="margin-top: 10px;font-size: 13px;[['text-decoration: underline;' if addition.categories=='orderHistory' else '']]" class="text-capitalize">
                        <a href="/[[lang_type]]/orderHistory?goodId=[[data.goodId]]">
                            [[lang.orders_history]]
                        </a>
                    </li>
                    <li style="margin-top: 10px;font-size: 13px;[['text-decoration: underline;' if addition.categories=='newProducts' else '']]" class="text-capitalize">
                        <a href="/[[lang_type]][[addition.add]]/newProducts?productType=SAMPLE">
                            [[lang.common_making_samples]]
                        </a>
                    </li>
                    <li style="margin-top: 10px;font-size: 13px;[['text-decoration: underline;' if addition.categories=='wishlist' else '']]" class="text-capitalize">
                        <a href="/[[lang_type]]/wishlist">
                            [[lang.header_nav_wishlist]]
                        </a>
                    </li>
                    <li style="margin-top: 10px;font-size: 13px;[['text-decoration: underline;' if addition.categories=='shoppingBag' else '']]" class="text-capitalize">
                        <a href="/[[lang_type]]/shoppingBag">
                            [[lang.header_nav_shopping_bag]]
                        </a>
                    </li>
                    <li style="margin-top: 10px;font-size: 13px;[['text-decoration: underline;' if addition.categories=='sampleBag' else '']]" class="text-capitalize">
                        <a href="/[[lang_type]]/sampleBag">
                            [[lang.header_nav_sample_bag]]
                        </a>
                    </li>
                </ul>
            </div>
            <div class="d-sm-none col-12" style="padding: 0">
                <div class="row" style="padding: 0">
                    <div class="btn-group" role="group" style="padding: 0">
                        <div class="btn btn-block text-uppercase" id="offcanvasNavListCategory1"
                                data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavListCategory" aria-controls="offcanvasNavListCategory"
                                style="font-size: 15px;height: 45px;line-height: 35px;border: 1px solid #575759">[[lang.common_categories]]</div>
                        <div class="btn btn-block text-uppercase" id="offcanvasNavListSort1"
                                data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavListSort" aria-controls="offcanvasNavListSort"
                                style="font-size: 15px;height: 45px;line-height: 35px;border: 1px solid #575759">[[lang.common_sort]]
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-8 col-lg-6 col-12" style="padding: 20px 30px 0 30px">
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <p>[[user.NAME]]</br>[[user.EMAIL]]</br>[[user.area.NAME if lang_type == 'zh_cn' else user.area.EN_NAME]]</p>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="btn btn-block text-uppercase d-none d-sm-block edit-user-account-btn"
                            style="background-color: #323232;color: #FFFFFF;width: 200px;float: right">
                            [[lang.account_edit_an_account]]
                        </div>
                        <div class="btn btn-block text-uppercase d-sm-none edit-user-account-btn"
                            style="background-color: #323232;color: #FFFFFF;width: 100%;">
                            [[lang.account_edit_an_account]]
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-top: 30px">
                    <div class="row">
                        <div class="col-3 d-none d-sm-block text-uppercase">[[lang.orders_orders]]</div>
                        <div class="col-2 d-none d-sm-block text-uppercase">[[lang.orders_date]]</div>
                        <div class="col-2 d-none d-sm-block text-uppercase">[[lang.orders_total_amount]]</div>
                        <div class="col-2 d-none d-sm-block text-uppercase">[[lang.orders_status]]</div>
                        <div class="col-3 d-none d-sm-block text-uppercase">[[lang.orders_tracking_number]]</div>
                    </div>
                    {% if not data.users %}<hr class="layui-border-black d-none d-sm-block" style="margin-top: 10px;">{% endif %}
                    {% for user in data.users %}
                        <hr class="layui-border-black d-none d-sm-block" style="margin-top: 10px;">
                        <div class="row account-details-btn" data-account="[[user.ID]]">
                            <div class="col-4 d-none d-sm-block">[[user.NAME]]</div>
                            <div class="col-4 d-none d-sm-block">[[user.EMAIL]]</div>
                            <div class="col-2 d-none d-sm-block">[[user.ORDERS]]</div>
                            <div class="col-2 d-none d-sm-block">[[user.area.NAME if lang_type == 'zh_cn' else user.area.EN_NAME]]</div>
                        </div>
                    {% endfor %}
                </div>
                <div class="row d-sm-none" style="margin-top: 30px;font-size: 13px;font-family: NotoSansCJK-Medium">
                    {% for user in data.users %}
                    <hr class="layui-border-black">
                    <div class="col-6 account-details-btn" data-account="[[user.ID]]">
                        <p class="text-capitalize">[[lang.common_customers]]</p>
                        <p class="text-capitalize">[[lang.account_number]]</p>
                        <p class="text-capitalize">[[lang.orders_orders]]</p>
                        <p class="text-capitalize">[[lang.common_area]]</p>
                    </div>
                    <div class="col-6 account-details-btn" data-account="[[user.ID]]" style="text-align: right">
                        <p>[[user.NAME if user.NAME != '' else lang.common_empty ]]</p>
                        <p>[[user.EMAIL]]</p>
                        <p>[[user.ORDERS]]</p>
                        <p>[[user.area.NAME if lang_type == 'zh_cn' else user.area.EN_NAME]]</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="col-xl-2 col-lg-3 d-none d-lg-block self-a-link">
                <ul style="margin-top: 20px;font-family: 'NotoSansCJK-Medium';">
                    <li style="font-size: 15px;font-family: 'NotoSansCJK-Bold';" class="text-uppercase">
                        [[lang.common_sort]]
                    </li>
                    <li style="margin-top: 10px;font-size: 13px;[['text-decoration: underline;' if data.sort =='less_more' else '']]" class="text-capitalize">
                        <a href="/[[lang_type]]/orderHistory?goodId=[[data.goodId]]&sort=less_more">
                            [[lang.common_order_amount_less_more]]
                        </a>
                    </li>
                    <li style="font-size: 13px;[['text-decoration: underline;' if data.sort=='more_less' else '']]" class="text-capitalize">
                        <a href="/[[lang_type]]/orderHistory?goodId=[[data.goodId]]&sort=more_less"
                           style="[['text-decoration: underline;' if addition.categories=='historyOrders' else '']]">
                            [[lang.common_order_amount_more_less]]
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </main>
    <div class="offcanvas offcanvas-start" tabindex="-1" style="z-index: 50;width: 100%"
         data-bs-scroll="true" data-bs-backdrop="false"
         id="offcanvasNavListCategory" aria-labelledby="offcanvasNavListCategoryLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title"></h5>
    {#        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>#}
        </div>
        <div class="offcanvas-body" style="padding: 20px 20px 0 0">
            <ul class="nav flex-column" id="header-offcanvas-first" style="margin-left: 10px;font-family: NotoSansCJK-Medium;color: #0C0C0C;font-size: 15px;">
                <li class="nav-item self-a-link" style="margin-top: 15px;[['text-decoration: underline;' if addition.categories=='orderHistory' else '']]">
                    <a href="/[[lang_type]]/orderHistory?goodId=[[data.goodId]]">
                        [[lang.orders_history]]
                    </a>
                </li>
                <li class="nav-item self-a-link" style="margin-top: 15px;[['text-decoration: underline;' if addition.categories=='newProducts' else '']]">
                    <a href="/[[lang_type]][[addition.add]]/newProducts?productType=SAMPLE">
                        [[lang.common_making_samples]]
                    </a>
                </li>
                <li class="nav-item self-a-link" style="margin-top: 15px;[['text-decoration: underline;' if addition.categories=='wishlist' else '']]">
                    <a href="/[[lang_type]]/wishlist">
                        [[lang.header_nav_wishlist]]
                    </a>
                </li>
                <li class="nav-item self-a-link" style="margin-top: 15px;[['text-decoration: underline;' if addition.categories=='shoppingBag' else '']]">
                    <a href="/[[lang_type]]/shoppingBag">
                        [[lang.header_nav_shopping_bag]]
                    </a>
                </li>
                <li class="nav-item self-a-link" style="margin-top: 15px;[['text-decoration: underline;' if addition.categories=='sampleBag' else '']]">
                    <a href="/[[lang_type]]/sampleBag">
                        [[lang.header_nav_sample_bag]]
                    </a>
                </li>
            </ul>
            <div class="self-nav" id="header-offcanvas-bottom-close-area"
                 style="border-top: 1px solid #0C0C0C;position: fixed; bottom: 0;width: 100%;height: 60px;line-height: 60px;text-align: center;background-color: #FFFFFF">
                [[lang.common_close]]
            </div>
        </div>
    </div>
    <div class="offcanvas offcanvas-start" tabindex="-1" style="z-index: 50;width: 100%"
         data-bs-scroll="true" data-bs-backdrop="false"
         id="offcanvasNavListSort" aria-labelledby="offcanvasNavListSortLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title"></h5>
    {#        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>#}
        </div>
        <div class="offcanvas-body" style="padding: 20px 20px 0 0">
            <ul class="nav flex-column" id="header-offcanvas-first" style="margin-left: 10px;font-family: NotoSansCJK-Medium;color: #0C0C0C;font-size: 15px;">
                <li class="nav-item self-a-link" style="margin-top: 15px;[['text-decoration: underline;' if data.sort =='less_more' else '']]">
                    <a href="/[[lang_type]]/orderHistory?goodId=[[data.goodId]]&sort=less_more">
                        [[lang.common_order_amount_less_more]]
                    </a>
                </li>
                <li class="nav-item self-a-link" style="margin-top: 15px;[['text-decoration: underline;' if data.sort=='more_less' else '']]">
                    <a href="/[[lang_type]]/orderHistory?goodId=[[data.goodId]]&sort=more_less">
                        [[lang.common_order_amount_more_less]]
                    </a>
                </li>
            </ul>
            <div class="self-nav" id="header-offcanvas-bottom-close-sort"
                 style="border-top: 1px solid #0C0C0C;position: fixed; bottom: 0;width: 100%;height: 60px;line-height: 60px;text-align: center;background-color: #FFFFFF">
                [[lang.common_close]]
            </div>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script>
        layui.config({
            base: '../static/' //静态资源所在路径
        }).extend({
            index: 'lib/index' //主入口模块
        }).use(['index', 'layer', 'publicCommon'], function () {
            var $ = layui.$,
                admin = layui.admin,
                layer = layui.layer;

            $('.add-user-accpunt-btn').on('click', function () {
                window.location.href = "/[[lang_type]]-customer/addUser"
            });

            $('#header-offcanvas-bottom-close-sort').on('click', function () {
                $('#offcanvasNavListSort1').trigger('click')
            });
            $('#header-offcanvas-bottom-close-area').on('click', function () {
                $('#offcanvasNavListArea1').trigger('click')
            });

            $('.account-details-btn').on('click', function () {
                window.location.href = "/[[lang_type]]/orderHistory?userId=" + $(this).attr('data-account')
            });
        });
    </script>
{% endblock %}